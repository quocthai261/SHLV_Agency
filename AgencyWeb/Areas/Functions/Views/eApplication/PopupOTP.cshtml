@using AgencyWeb.Models

<style>
/* Variables */
:root{
    --light-white:#f5f8fa;
    --gray:#5e6278;
    --gray-1:#e3e3e3;
}

.logo img{
    max-width:40%;
}
input{
    background-color:var(--light-white);
    border-color:var(--light-white);
    color:var(--gray);
}
input:focus{
    box-shadow: none;
}
.password-info{
    font-size:10px;
}
.submit_btn{
    padding:10px 15px;
    font-weight:500;
}
.login_with{
    padding:8px 15px;
    font-size:13px;
    font-weight: 500;
    transition:0.3s ease-in-out;
}
.submit_btn:focus,
.login_with:focus{
    box-shadow: none;
}
.login_with:hover{
    background-color:var(--gray-1);
    border-color:var(--gray-1);
}
.login_with img{
    max-width:7%;
} 

/* OTP Verification CSS */
.otp_input input{
    width:14%;
    height:70px;
    text-align: center;
    font-size: 20px;
    font-weight: 600;
}    
</style>

<div class="modal fade" id="popupOTP" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" style="background: #00000080;">
    <div class="modal-dialog modal-md" style="margin-top: 100px;">
        <div class="modal-content" >
            <div class="modal-body">
                <div class="rounded bg-white shadow p-5" style="text-align: center !important;">
                    <h3 class="fw-bolder mb-2 form-title">XÁC NHẬN OTP</h3>

                    <div class="fw-normal text-muted mb-4">
                        Mã xác thực đã được gửi đến số điện thoại
                    </div>

                    <div class="d-flex align-items-center justify-content-center fw-bold mb-4">
                        <span>097</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-asterisk" viewBox="0 0 16 16">
                            <path d="M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1z" />
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-asterisk" viewBox="0 0 16 16">
                            <path d="M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1z" />
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-asterisk" viewBox="0 0 16 16">
                            <path d="M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1z" />
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-asterisk" viewBox="0 0 16 16">
                            <path d="M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1z" />
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-asterisk" viewBox="0 0 16 16">
                            <path d="M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1z" />
                        </svg>
                        <span>77</span>
                    </div>

                    <div class="otp_input mb-2">
                        <strong>Nhập mã OTP gồm 6 kí tự</strong>
                        <div class="d-flex align-items-center justify-content-between mt-2">
                            <input type="text" class="form-control" placeholder="">
                            <input type="text" class="form-control" placeholder="">
                            <input type="text" class="form-control" placeholder="">
                            <input type="text" class="form-control" placeholder="">
                            <input type="text" class="form-control" placeholder="">
                            <input type="text" class="form-control" placeholder="">
                        </div>
                    </div>
                    <p class="fw-normal text-muted mb-2"> Thời gian nhập còn lại: <span id="countdowntimer">90 </span> giây</p>
                    <button class="btn btn-purple-style" onclick="onButtonConfirmOTPClicked()">Xác nhận</button>

                    <div class="fw-normal text-muted mb-2">
                        Nếu bạn không nhận được mã ? <a onclick="onButtonResendOTPClicked()" class="form-title fw-bold text-decoration-none">Gửi lại OTP</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    var timeleft = 90;
    var downloadTimer = setInterval(function () {
        timeleft--;
        document.getElementById("countdowntimer").textContent = timeleft;
        if (timeleft <= 0)
            clearInterval(downloadTimer);
    }, 1000);

    function onButtonResendOTPClicked() {
        notify("Gửi lại mã OTP thành công", "success");
    }

    function onButtonConfirmOTPClicked() {
        var modal = document.getElementById("popupOTP");
        modal.classList.remove("show", "in");
        modal.style.display = "none";
        notify("Xác thực thành công", "success");
        location.href = '@Url.Action("Index", "eApplication", new { area = "Functions" })';
    }

</script>